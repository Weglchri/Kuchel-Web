<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Rezept erstellen</title>
    <link rel="stylesheet" href="/resources/css/style.css"/>
    <div th:replace="../fragments/head :: head"></div>
</head>
<body>
<div th:replace="../fragments/header :: header"></div>

<div class="container">
    <div>
        <div class="col-md-12">
            <form autocomplete="off" action="#" th:action="@{/recipes}"
                  th:object="${recipe}" method="post" class="form-horizontal"
                  role="form">
                <h2>Rezept erstellen</h2>
                <div class="form-group">
                    <div class="col-sm-3">
                        <label th:if="${#fields.hasErrors('name')}" th:errors="*{name}"
                               class="validation-message"></label>
                        <input type="text" th:field="*{name}" placeholder="Name"
                               class="form-control"/>
                    </div>
                </div>

                <div class="table-responsive col-md-4">
                <table>
                    <h2>Zutaten</h2>
                    <thead>
                    <tr>
                        <th>Menge</th>
                        <th>Zutat</th>
                        <th>
                            <button type="submit" th:method="get" name="addRowIngredient">Zutat hinzufügen</button>
                        </th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="recipeIngredient : ${recipe.recipeIngredients}">
                        <td>
                            <input type="text" th:value="${recipeIngredient.id}" th:placeholder="Menge"
                                   class="form-control"/>
                        </td>
                        <td>
                            <select th:field="*{recipeIngredients[__${recipeIngredientStat.index}__].ingredient.name}">
                                <option
                                        th:each="acceptedIngredient : ${acceptedIngredients}"
                                        th:value="${acceptedIngredient.name}"
                                        th:text="${acceptedIngredient.name}">
                                </option>
                            </select>
                        </td>
                        <td>
                            <button type="submit" name="removeRowIngredient" th:value="${recipeIngredientStat.index}">entfernen</button>
                        </td>
                    </tr>

                    </tbody>
                </table>
                </div>
                <!--<div class="table-responsive col-md-8">-->
                    <!--<table>-->
                        <!--<h2>Schritte</h2>-->
                        <!--<thead>-->
                        <!--<tr>-->
                            <!--<th>Schritt</th>-->
                            <!--<th>Zutat</th>-->
                            <!--<th>-->
                                <!--<button type="submit" th:method="get" name="addRowIngredient">Schritte hinzufügen</button>-->
                            <!--</th>-->
                        <!--</tr>-->
                        <!--</thead>-->
                        <!--<tbody>-->
                        <!--<tr th:each="ingredient : ${recipe.ingredients}">-->
                            <!--<td>-->
                                <!--<input type="text" th:value="${ingredient.id}" th:placeholder="Menge"-->
                                       <!--class="form-control"/>-->
                            <!--</td>-->
                            <!--<td>-->
                                <!--<select th:field="*{ingredients[__${ingredientStat.index}__].name}">-->
                                    <!--<option-->
                                            <!--th:each="acceptedIngredient : ${acceptedIngredients}"-->
                                            <!--th:value="${acceptedIngredient.name}"-->
                                            <!--th:text="${acceptedIngredient.name}">-->
                                    <!--</option>-->
                                <!--</select>-->
                            <!--</td>-->
                            <!--<td>-->
                                <!--<button type="submit" name="removeRowIngredient" th:value="${ingredient.id}"-->
                                <!--&gt;Schritte entfernen-->
                                <!--</button>-->
                            <!--</td>-->
                        <!--</tr>-->

                        <!--</tbody>-->
                    <!--</table>-->
                <!--</div>-->

                <div class="form-group">
                    <div class="col-sm-6">
                        <button type="submit" th:method="post" class="btn btn-primary btn-block">Rezept hinzufügen
                        </button>
                    </div>
                </div>

            </form>
        </div>
    </div>
</div>
</body>
</html>
